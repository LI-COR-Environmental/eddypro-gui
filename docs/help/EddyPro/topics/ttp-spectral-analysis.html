<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="_Skins_top_nav" data-mc-search-type="Stem" data-mc-help-system-file-name="index.xml" data-mc-path-to-help-system="../../" data-mc-has-content-body="True" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-medium="non-print" data-mc-toc-path="">
    <head data-mc-conditions="Helps.Support_Exclude">
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>EddyPro | Analyzing Spectra and Cospectra in EddyPro</title>
        <link href="../../Resources/Fonts/Roboto-Black.ttf" rel="font" />
        <link href="../../Resources/Fonts/Roboto-BlackItalic.ttf" rel="font" />
        <link href="../../Resources/Fonts/Roboto-Bold.ttf" rel="font" />
        <link href="../../Resources/Fonts/Roboto-BoldItalic.ttf" rel="font" />
        <link href="../../Resources/Fonts/Roboto-Italic.ttf" rel="font" />
        <link href="../../Resources/Fonts/Roboto-Light.ttf" rel="font" />
        <link href="../../Resources/Fonts/Roboto-LightItalic.ttf" rel="font" />
        <link href="../../Resources/Fonts/Roboto-Medium.ttf" rel="font" />
        <link href="../../Resources/Fonts/Roboto-MediumItalic.ttf" rel="font" />
        <link href="../../Resources/Fonts/Roboto-Regular.ttf" rel="font" />
        <link href="../../Resources/Fonts/Roboto-Thin.ttf" rel="font" />
        <link href="../../Resources/Fonts/Roboto-ThinItalic.ttf" rel="font" />
        <link href="../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" />
        <link href="../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" />
        <link href="../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" />
        <link href="../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" />
        <link href="../../Skins/Fluid/Stylesheets/foundation.6.2.3.css" rel="stylesheet" />
        <link href="../../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" />
        <link href="../../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" />
        <link href="../../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" />
        <link href="../../Resources/Stylesheets/local-help.css" rel="stylesheet" />
        <script src="../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../Resources/Scripts/foundation.6.2.3_custom.js">
        </script>
        <script src="../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../Resources/Scripts/MadCapAll.js">
        </script>
        <script src="../../Resources/Scripts/tabs.js">
        </script>
    </head>
    <body>
        <div class="foundation-wrap off-canvas-wrapper">
            <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
                <aside class="off-canvas position-left" id="offCanvas" data-off-canvas="" data-position="left" data-mc-ignore="true">
                    <ul class="off-canvas-accordion vertical menu off-canvas-list" data-accordion-menu="" data-mc-back-link="Back" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True">
                    </ul>
                </aside>
                <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
                    <div>
                        <nav class="title-bar tab-bar" data-mc-ignore="true">
                            <div class="middle title-bar-section outer-row clearfix">
                                <div class="menu-icon-container relative clearfix">
                                    <button class="menu-icon" data-toggle="offCanvas"><span></span>
                                    </button>
                                </div>
                            </div>
                            <div class="title-bar-layout outer-row">
                                <div class="logo-wrapper"><a class="logo" href="http://www.licor.com/env" alt="Logo"></a>
                                </div>
                                <div class="navigation-wrapper nocontent">
                                    <ul class="navigation clearfix" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="3" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                        <li class="placeholder" style="visibility:hidden"><a>placeholder</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="nav-search-wrapper">
                                    <div class="nav-search row">
                                        <form class="search" action="#">
                                            <div class="search-bar search-bar-container needs-pie">
                                                <input class="search-field needs-pie" type="search" placeholder="What do you want help with?" />
                                                <div class="search-filter-wrapper">
                                                    <div class="search-filter">
                                                        <div class="search-filter-content">
                                                            <ul>
                                                                <li>All products</li>
                                                            </ul>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="search-submit-wrapper" dir="ltr">
                                                    <div class="search-submit" title="Search">
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </nav>
                    </div>
                    <section class="main-section">
                        <div class="row outer-row sidenav-layout">
                            <div class="sidenav-wrapper">
                                <div class="sidenav-container">
                                    <ul class="off-canvas-accordion vertical menu sidenav" data-accordion-menu="" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu accordion-menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="False" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True" data-mc-side-nav-menu="True">
                                    </ul>
                                </div>
                            </div>
                            <div class="body-container" data-mc-content-body="True">
                                <div class="top">
                                </div>
                                <div class="wrap">
                                    <p class="title">EddyPro<sup>Â®</sup> 7 Software</p>
                                    <section>
                                        <div class="RowClass6">
                                            <div>
                                                <form class="search" action="#">
                                                    <div class="search-bar search-bar-container needs-pie">
                                                        <input class="search-field needs-pie" type="search" placeholder="What do you want help with?" />
                                                        <div class="search-filter-wrapper">
                                                            <div class="search-filter">
                                                                <div class="search-filter-content">
                                                                    <ul>
                                                                        <li>All products</li>
                                                                    </ul>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="search-submit-wrapper" dir="ltr">
                                                            <div class="search-submit" title="Search">
                                                            </div>
                                                        </div>
                                                    </div>
                                                </form>
                                            </div>
                                        </div>
                                    </section>
                                    <section>
                                        <div class="RowClass11">
                                            <div>
                                                <ul class="nocontent menu _Skins_menu_support mc-component" data-mc-linked-toc="Data/Tocs/EddyPro__EddyPro_Support01.js" data-mc-side-menu="True" data-mc-max-depth="1" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="False" data-mc-include-siblings="False" data-mc-include-parent="False" data-mc-toc="True">
                                                </ul>
                                                <ul class="nocontent menu _Skins_menu_support mc-component" data-mc-linked-toc="Data/Tocs/EddyPro__EddyPro_Support02.js" data-mc-side-menu="True" data-mc-max-depth="1" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="False" data-mc-include-siblings="False" data-mc-include-parent="False" data-mc-toc="True">
                                                </ul>
                                            </div>
                                            <div>
                                                <h1 id="AnalyzingSpectraandCospectrainEddyPro" data-magellan-target="AnalyzingSpectraandCospectrainEddyPro">Analyzing Spectra and Cospectra in EddyPro</h1>
                                                <p>Spectral analysis determines how variance or covariance distributes over frequency for a finite time series data set. Eddy covariance (EC) spectral analysis can reveal insights that would otherwise not be obvious by looking at data in the time-domain only. Spectral analysis allows you to assess whether the instruments have enough resolution, if a sampling rate is fast enough, and if a flux averaging period is adequate, among other things. Here are the basic steps for doing spectral analysis using EddyPro:</p>
                                                <ol>
                                                    <li value="1">Choose EddyPro Advanced Mode to process your raw data.</li>
                                                    <li class="num_no">There are two data processing modes in EddyPro: Express and Advanced. Only the Advanced Mode outputs spectral analysis results.</li>
                                                    <li value="2">Use the default settings of EddyPro Advanced Mode or set up your own.</li>
                                                    <li class="num_no">EddyPro outputs full spectra and cospectra, binned spectra and cospectra, and binned ogives for every flux averaging period (usually 30 minutes). Based on these results, EddyPro also outputs ensemble (i.e., averaged) binned spectra and binned cospectra for the entire period of a raw data set. The ensemble spectral analyses are further grouped by atmospheric stability (stable: -650 m &lt; <var>L</var> &lt; 0 m and unstable: 0 m &lt; <var>L</var> &lt; 1000 m, where <var>L</var> is Monin-obukhov length) and time of day (every three hours). The ensemble spectral results are quality controlled using the filters displayed on the interface of <strong>Spectral Analysis and Corrections</strong> in the Advance Mode.  These quality criteria can be changed by yourself if needed.</li>
                                                    <li value="3">Get spectral analysis results.</li>
                                                    <li class="num_no">In EddyPro Advance Mode output files, the following folders contain spectral and cospectral results:</li>
                                                    <li class="num_no">
                                                        <img src="../images/spectral-analysis-files.png" />
                                                    </li>
                                                    <li class="num_no">The binned and full spectra and cospectra from every averaging period (usually 30 minutes) are in the <code>eddypro_binned_cospectra</code> and <code>eddypro_full_cospectra</code> folders respectively. The <code>eddypro_binned_ogives</code> folder contains binned ogives files. The ensemble spectra and cospectra averaged based on atmospheric stability, period of time, or relative humidity are in the <code>eddypro_spectral_analysis</code> folder. All the files are in a comma-separated values file format with a <code>.csv</code> extension. When plotting these data, use a logarithmic scale for both x and y axes. A  spectra or cospectra collected for one single 30 minute period may be noisy and may not give you a clear picture of the frequency response of the instrument, as ideal conditions may not exist during that period. The binned cospectral files should be averaged, omitting periods with bad quality or low fluxes and then classified based on stability to get a clear picture of the instrument frequency response. The <code>eddypro_spectral_analysis</code> folder has ensemble average outputs which are quality controlled and sorted based on stability. They can be used for determining instrument frequency response.</li>
                                                    <li value="4">Determining if the spectra and cospetra are normal.</li>
                                                    <li class="num_no">A time series such as CO<sub>2</sub> densities at different time can be decomposed into a sum of simple sines and cosine functions of different frequencies and amplitudes through Fourier Transform. At a certain frequency, the mean of the square of amplitude for each sine and cosine functions is called power spectral density. If a frequency is important, its power spectral density should be large and vice versa. Power spectral density over all the frequencies is called a spectrum. A spectrum refers to one variable, and a cospectrum is for the combined result of two variables.  The integral of a spectrum over all the frequencies (i.e., the sum of power density of a spectrum) is equal to the variance of the time series and the integral of a cospectra over all the frequencies gives you the covariance. Therefore, the spectrum breaks the sample variance of time series up into pieces across different frequencies, and cospectra breaks the sample covariance across different frequencies.</li>
                                                    <li class="num_no">When spectra are normalized by the area under the curve (i.e., the total variance), all spectra are brought to approximately the same level on the intensity scale. At the same time, when the frequency is multiplied by measurement height and then normalized by wind speed, the spectra at the inertial subrange come into coincidence. These are also true for cospectra. With these normalizations, all spectra and cospectra collapse into universal curves. On the high frequency end, a spectrum exhibits a slope of -2/3 and a copectrum -4/3. Below are two graphs showing some spectra and cospectra from an LI-7700 Open Path CH<sub>4</sub> Gas Analyzer, where the slopes match the theoretic values of -2/3 and -4/3 well.  If a spectrum or cospectrum has a quite different shape or slope from what is predicted in theory, it may indicate a problem in instrument, measurement setup, or data processing.</li>
                                                    <li class="num_no"><a class="MCPopupThumbnailLink MCPopupThumbnailPopup" href="../images/spectra-plot01.png"><img class="MCPopupThumbnail img imgwidth050pct" data-mc-width="924" data-mc-height="731" src="../images/spectra-plot01_thumb_560_0.png" tabindex="" /></a>
                                                    </li>
                                                    <li class="num_no"><a class="MCPopupThumbnailLink MCPopupThumbnailPopup" href="../images/spectra-plot02.png"><img class="MCPopupThumbnail img imgwidth050pct" data-mc-width="1075" data-mc-height="712" src="../images/spectra-plot02_thumb_560_0.png" tabindex="" /></a>
                                                    </li>
                                                    <li value="5">Check ogive to determine if a flux averaging period is adequate.</li>
                                                    <li class="num_no">Ogive is the integral of a cospectrum from the current frequency to the Nyquist frequency (half of the sampling rate). When it has an asymptotic shape toward the highest and lowest frequencies and its plateau at the low frequency end is close to 1 as shown in the graph below, the flux averaging period is adequate.  Otherwise, the flux averaging period is not adequate.  This is an additional way to check if your spectral results are normal or not.</li>
                                                </ol>
                                                <p><a class="MCPopupThumbnailLink MCPopupThumbnailPopup" href="../images/spectra-plot03.png"><img class="MCPopupThumbnail img imgwidth050pct" data-mc-width="1337" data-mc-height="1037" src="../images/spectra-plot03_thumb_560_0.png" tabindex="" /></a>
                                                </p>
                                                <p>In flux measurement, some cospectra such as those from an eddy covariance system with a closed-path gas analyzer may be attenuated by tubing and their shapes and slopes could be different from what are predicted in theory. In addition, frequency for spectra or cospectra can be expressed in different ways such as natural frequency vs normalized frequency. Spectra or cospectra and normalized spectra or cospectra are different as explained above. Proper data formats are important in spectral analysis and they deserve attention.</p>
                                            </div>
                                            <div>
                                                <div class="in-page-sticky-mid">
                                                    <p class="in-this-page">In this page:</p>
                                                    <ul data-magellan="" data-animation-duration="250" data-active-class="selected" data-scroll-container-on="small" class="nocontent menu _Skins_menu_fixed mc-component">
                                                        <li><a href="#AnalyzingSpectraandCospectrainEddyPro">Analyzing Spectra and Cospectra in EddyPro</a>
                                                        </li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                    </section>
                                </div>
                            </div>
                        </div>
                    </section><a data-close="true"></a>
                </div>
            </div>
            <script>/* <![CDATA[ */$(document).foundation();/* ]]> */</script>
        </div>
    </body>
</html>