<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="_Skins_top_nav" data-mc-search-type="Stem" data-mc-help-system-file-name="index.xml" data-mc-path-to-help-system="../../" data-mc-has-content-body="True" data-mc-searchable="True" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-medium="non-print" data-mc-toc-path="How it Works|Processing Steps">
    <head data-mc-conditions="Helps.Support_Exclude">
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>EddyPro | Calculating Spectra, Cospectra, and Ogives</title>
        <link href="../../Resources/Fonts/Roboto-Black.ttf" rel="font" />
        <link href="../../Resources/Fonts/Roboto-BlackItalic.ttf" rel="font" />
        <link href="../../Resources/Fonts/Roboto-Bold.ttf" rel="font" />
        <link href="../../Resources/Fonts/Roboto-BoldItalic.ttf" rel="font" />
        <link href="../../Resources/Fonts/Roboto-Italic.ttf" rel="font" />
        <link href="../../Resources/Fonts/Roboto-Light.ttf" rel="font" />
        <link href="../../Resources/Fonts/Roboto-LightItalic.ttf" rel="font" />
        <link href="../../Resources/Fonts/Roboto-Medium.ttf" rel="font" />
        <link href="../../Resources/Fonts/Roboto-MediumItalic.ttf" rel="font" />
        <link href="../../Resources/Fonts/Roboto-Regular.ttf" rel="font" />
        <link href="../../Resources/Fonts/Roboto-Thin.ttf" rel="font" />
        <link href="../../Resources/Fonts/Roboto-ThinItalic.ttf" rel="font" />
        <link href="../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" />
        <link href="../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" />
        <link href="../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" />
        <link href="../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" />
        <link href="../../Skins/Fluid/Stylesheets/foundation.6.2.3.css" rel="stylesheet" />
        <link href="../../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" />
        <link href="../../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" />
        <link href="../../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" />
        <link href="../../Resources/Stylesheets/local-help.css" rel="stylesheet" />
        <script src="../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../Resources/Scripts/foundation.6.2.3_custom.js">
        </script>
        <script src="../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../Resources/Scripts/MadCapAll.js">
        </script>
        <script src="../../Resources/Scripts/tabs.js">
        </script>
    </head>
    <body>
        <div class="foundation-wrap off-canvas-wrapper">
            <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
                <aside class="off-canvas position-left" id="offCanvas" data-off-canvas="" data-position="left" data-mc-ignore="true">
                    <ul class="off-canvas-accordion vertical menu off-canvas-list" data-accordion-menu="" data-mc-back-link="Back" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True">
                    </ul>
                </aside>
                <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
                    <div>
                        <nav class="title-bar tab-bar" data-mc-ignore="true">
                            <div class="middle title-bar-section outer-row clearfix">
                                <div class="menu-icon-container relative clearfix">
                                    <button class="menu-icon" data-toggle="offCanvas"><span></span>
                                    </button>
                                </div>
                            </div>
                            <div class="title-bar-layout outer-row">
                                <div class="logo-wrapper"><a class="logo" href="http://www.licor.com/env" alt="Logo"></a>
                                </div>
                                <div class="navigation-wrapper nocontent">
                                    <ul class="navigation clearfix" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="3" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                        <li class="placeholder" style="visibility:hidden"><a>placeholder</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="nav-search-wrapper">
                                    <div class="nav-search row">
                                        <form class="search" action="#">
                                            <div class="search-bar search-bar-container needs-pie">
                                                <input class="search-field needs-pie" type="search" placeholder="What do you want help with?" />
                                                <div class="search-filter-wrapper">
                                                    <div class="search-filter">
                                                        <div class="search-filter-content">
                                                            <ul>
                                                                <li>All products</li>
                                                            </ul>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="search-submit-wrapper" dir="ltr">
                                                    <div class="search-submit" title="Search">
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </nav>
                    </div>
                    <section class="main-section">
                        <div class="row outer-row sidenav-layout">
                            <div class="sidenav-wrapper">
                                <div class="sidenav-container">
                                    <ul class="off-canvas-accordion vertical menu sidenav" data-accordion-menu="" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu accordion-menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="False" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True" data-mc-side-nav-menu="True">
                                    </ul>
                                </div>
                            </div>
                            <div class="body-container" data-mc-content-body="True">
                                <div class="top">
                                    <div class="nocontent">
                                        <div class="MCBreadcrumbsBox_0 breadcrumbs" data-mc-breadcrumbs-divider=" &gt; " data-mc-breadcrumbs-count="3" data-mc-toc="True"><span class="MCBreadcrumbsPrefix">EddyPro 7 Help &gt; </span>
                                        </div>
                                    </div>
                                </div>
                                <div class="wrap">
                                    <p class="title">EddyPro<sup>Â®</sup> 7 Software</p>
                                    <section>
                                        <div class="RowClass6">
                                            <div>
                                                <form class="search" action="#">
                                                    <div class="search-bar search-bar-container needs-pie">
                                                        <input class="search-field needs-pie" type="search" placeholder="What do you want help with?" />
                                                        <div class="search-filter-wrapper">
                                                            <div class="search-filter">
                                                                <div class="search-filter-content">
                                                                    <ul>
                                                                        <li>All products</li>
                                                                    </ul>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="search-submit-wrapper" dir="ltr">
                                                            <div class="search-submit" title="Search">
                                                            </div>
                                                        </div>
                                                    </div>
                                                </form>
                                            </div>
                                        </div>
                                    </section>
                                    <section>
                                        <div class="RowClass11">
                                            <div>
                                                <ul class="nocontent menu _Skins_menu_support mc-component" data-mc-linked-toc="Data/Tocs/EddyPro__EddyPro_Support01.js" data-mc-side-menu="True" data-mc-max-depth="1" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="False" data-mc-include-siblings="False" data-mc-include-parent="False" data-mc-toc="True">
                                                </ul>
                                                <ul class="nocontent menu _Skins_menu_support_nested mc-component" data-mc-is-context-sensitive="True" data-mc-linked-toc="Data/Tocs/EddyPro__EddyPro_Menu.js" data-mc-side-menu="True" data-mc-max-depth="-1" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="False" data-mc-include-siblings="False" data-mc-include-parent="True" data-mc-toc="True">
                                                </ul>
                                                <ul class="nocontent menu _Skins_menu_support mc-component" data-mc-linked-toc="Data/Tocs/EddyPro__EddyPro_Support02.js" data-mc-side-menu="True" data-mc-max-depth="1" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="False" data-mc-include-siblings="False" data-mc-include-parent="False" data-mc-toc="True">
                                                </ul>
                                            </div>
                                            <div>
                                                <h1 id="CalculatingSpectraCospectraandOgives" data-magellan-target="CalculatingSpectraCospectraandOgives">Calculating Spectra, Cospectra, and Ogives<a name="aanchor21"></a><MadCap:concept term="eddypro" /></h1>
                                                <p>EddyPro<sup>Â®</sup> Software allows calculation and output of most relevant spectra and cospectra. Namely spectra are available for the three wind components, the sonic temperature (or the alternative fast temperature reading used in place of sonic temperature, as applicable) and the gas concentrations or densities. Similarly, cospectra are available for covariances of <i>w</i> (vertical wind component) and all such variables. In the remainder of this paragraph we use the wording â(co)spectraâ to refer to both spectra and cospectra.</p>
                                                <p>(Co)spectra are calculated after raw data have been fully processed, including the compensation of time lags, and are available in two different formats: either âfullâ or âbinnedâ. Full (co)spectra are calculated for each flux averaging period and contain a number of frequencies equal to half the number of raw records. As an example, a raw dataset of 18000 records (30 minutes at 10 Hz) will provide (co)spectra specified for 9000 frequencies, linearly distributed between the lower frequency of 1/(30 minutes) and the maximum frequency (the Nyquist frequency) of (10 Hz)/2. One property of full (co)spectra is that their integration over the entire frequency range provides the (co)variance of the concerned variables. For details on the derivation and interpretation of spectra and cospectra refer, for example, to <a href="references.html#Smith">Smith (1998)</a>. </p>
                                                <p>However, the full (co)spectra dataset is difficult to handle because of the size of each individual (co)spectrum, and difficult to interpret because of the noise that typically affects the medium and high-frequency ranges. For these reasons, <span class="product_namesEddyPro">EddyPro</span> also calculates and outputs reduced, or âbinnedâ (co)spectra. The reduction procedure consists of dividing the frequency range in a user-specified number of exponentially spaced frequency bins (e.g. 100) and averaging individual (co)spectral values that fall within each bin. The exponential nature of the size increase of the bins assures that increasingly more spectral values are averaged as it moves toward higher frequencies, thereby increasingly reducing noise. The figure below shows an example of a full spectrum and the corresponding binned version.</p>
                                                <p>Calculation of the full (co)spectra involves the following sequence of operations:</p>
                                                <ol>
                                                    <li value="1">First, if one selects this option, raw time series are limited to a number of records equal to the power-of-two closest to the available number of records for the current flux averaging period. This step guarantees that the Fourier transforms are performed at the fastest speed possible. If you do not select this option, all available samples are used, but the computation slows down.</li>
                                                    <li value="2">If applicable, statistics (variances and covariances) are now re-evaluated on the reduced time series and used later for (co)spectra normalization.</li>
                                                    <li value="3">Fourier transform is performed by means of an FFT (Fast Fourier Transform) algorithm. </li>
                                                    <li value="4">Full (co)spectra can now be calculated and output as selected by the user.</li>
                                                </ol>
                                                <p>This procedure ensures that (co)spectra are such that their integration provides the corresponding (co)variances, as stated above.</p>
                                                <p class="img"><a class="MCPopupThumbnailLink MCPopupThumbnailPopup" href="../images/Spectrum.png"><img class="MCPopupThumbnail img imgwidth066pct" data-mc-width="392" data-mc-height="308" src="../images/Spectrum_thumb_560_0.png" tabindex="" /></a>
                                                </p>
                                                <p>The calculation of binned (co)spectra involves a slightly different sequence of steps:</p>
                                                <ol>
                                                    <li value="1">First, if you select this option, raw time series are limited to a number of records equal to power of two closest to the available number of records for the current flux averaging period. This step guarantees that the Fourier transforms are performed at the fastest speed possible.</li>
                                                    <li value="2">If applicable, statistics (variances and covariances) are now re-evaluated on the reduced time series and used later for (co)spectra normalization.</li>
                                                    <li value="3">The reduced time series is now âtaperedâ using the selected tapering window. The tapering, (or windowing) procedure consists of multiplying (in a scalar sense) the time series with a suitable symmetric function. The aim, which you can learn in detail in <a href="references.html#Smith">Smith (1998)</a>, is to produce a time series that can be thought of as a part of an infinite periodic time series, to which the definition of discrete (co)spectra actually applies. Not applying the tapering procedure to short time series can result in spectral power overestimation. <a href="references.html#Kaimal2">Kaimal and Kristensen (1991)</a> suggested the use of the Hamming or the Hann windows. The figure below shows examples of tapering windows and the effect of their application to a time series. Also shown are the effects that different windows have on a sample spectrum.                </li>
                                                    <li value="4">The FFT is now applied to tapered time series and full (co)spectra are calculated.</li>
                                                    <li value="5">Full (co)spectra are normalized using relevant (co)variances.      </li>
                                                    <li value="6">Full (co)spectra are finally reduced into the exponentially spaced frequency base.
                </li>
                                                    <li value="7">As a further option, <span class="product_namesEddyPro">EddyPro</span> calculates and outputs ogives of all (co)spectra. At each given frequency, the ogive is simply the integration of the (co)spectrum from the current frequency to the Nyquist frequency. It can be thought of as a cumulative (co)spectrum, while its value at the lowest frequency provides the integration of the full (co)spectrum (i.e., the (co)variance). Ogives can be used to evaluate the suitability of the chosen flux averaging period.</li>
                                                </ol>
                                                <p class="img">
                                                    <img src="../images/Tapering.png" />
                                                </p>
                                                <p class="figure" data-mc-autonum="Figure 1"><span class="autonumber"><span>Figure 1</span></span>. Top left: Shape of tapering windows available in EddyPro. Top right: Effect of different tapering windows on a sample spectrum. Bottom: Effect (red) of the Bartlett window on a raw (gray) time series.</p>
                                            </div>
                                            <div>
                                                <div class="in-page-sticky-mid">
                                                    <p class="in-this-page">In this page:</p>
                                                    <ul data-magellan="" data-animation-duration="250" data-active-class="selected" data-scroll-container-on="small" class="nocontent menu _Skins_menu_fixed mc-component">
                                                        <li><a href="#CalculatingSpectraCospectraandOgives">Calculating Spectra, Cospectra, and Ogives</a>
                                                        </li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                    </section>
                                </div>
                            </div>
                        </div>
                    </section><a data-close="true"></a>
                </div>
            </div>
            <script>/* <![CDATA[ */$(document).foundation();/* ]]> */</script>
        </div>
    </body>
</html>